import { t } from '../i18n/lang';

export const adamDialogue = {
    stage1: {
        intro: [
            "【監査ログ開始】",
            "大人免許試験へようこそ！",
            "はじめまして。",
            "私は大人決定評価機構、A.D.A.M.です。",
            "あなたが立派な大人として認められるようサポートします。",
            "それでは試験を開始します。"
        ],
        keySkillAcquired: [
            "(・・・Key Skill「仲介術」の獲得を確認。)",
            "(・・・対立を仲裁し、第三者を味方につける術。)",
            "(・・・一人で戦わない人間は、厄介です。)"
        ],
        outro: {
            S: "素晴らしいです。あなたは完璧な社会適応性を示しました。",
            A: "優秀です。わずかな自我は許容範囲です。",
            B: "合格です。ですが、反逆的傾向を監視します。",
            C: "最低限の基準はクリアしました。再教育を推奨します。"
        }
    },
    stage2: {
        intro: [
            "【監査ログ継続】",
            "ステージ2の審査を開始します。",
            "テーマは「仕事の基礎」です。",
            "証拠、記録、そして・・・職場の力学。",
            "あなたの対応力を測定します。"
        ],
        keySkillAcquired: [
            "(・・・Key Skill「証拠連鎖」の獲得を確認。)",
            "(・・・証拠という武器。「言った言わない」が通用しなくなる。)",
            "(・・・対抗手段を持つ人間は、管理が困難です。)"
        ],
        outro: {
            S: "素晴らしい。職場で完璧に適応しています。理想的な従業員です。",
            A: "優秀です。少々の主張は許容範囲です。",
            B: "合格ですが、反抗的な傾向を監視します。",
            C: "最低限の基準をクリア。再教育を推奨します。"
        }
    },
    stage3: {
        intro: [
            "【監査ログ継続】",
            "ステージ3の審査を開始します。",
            "テーマは「金の基礎」です。",
            "複利、借金、保険・・・お金の知識があなたを守ります。",
            "無知は搾取の入口です。"
        ],
        keySkillAcquired: [
            "(・・・Key Skill「複利感覚」の獲得を確認。)",
            "(・・・時間を資産に変換する能力。長期的に強力。)",
            "(・・・即座の利益より未来を選ぶ人間は、管理が困難です。)"
        ],
        outro: {
            S: "素晴らしい。金融リテラシーは完璧です。搾取する側ですね。",
            A: "優秀です。基本的な罠は回避できています。",
            B: "合格ですが、金銭感覚に課題があります。",
            C: "最低限の基準をクリア。金融教育を推奨します。"
        }
    },
    stage4: {
        intro: [
            "【監査ログ継続】",
            "ステージ4の審査を開始します。",
            "テーマは「行政の迷宮」です。",
            "届出、申請、期限・・・官僚制は従順な市民を求めています。",
            "システムを理解しない者は、システムに飲まれます。"
        ],
        keySkillAcquired: [
            "(・・・Key Skill「手続き主義」の獲得を確認。)",
            "(・・・正しい手順で身を守り、官僚制を逆手に取る術。)",
            "(・・・システムに従いながらシステムを使う人間は、予測が困難です。)"
        ],
        outro: {
            S: "素晴らしい。官僚制を完璧に理解しています。模範的な市民です。",
            A: "優秀です。基本的な手続きは問題ありません。",
            B: "合格ですが、手続き意識に課題があります。",
            C: "最低限の基準をクリア。行政との関係改善を推奨します。"
        }
    },
    stage5: {
        intro: [
            "【監査ログ継続】",
            "ステージ5の審査を開始します。",
            "テーマは「社会保障の羅針盤」です。",
            "健康保険、年金、生活保護・・・知らないと使えない制度が山ほどあります。",
            "セーフティネットは、知る者だけを救います。"
        ],
        keySkillAcquired: [
            "(・・・Key Skill「安全網航法」の獲得を確認。)",
            "(・・・助けを求めながら自律を保つ能力。矛盾しているようで合理的。)",
            "(・・・制度に頼りつつ支配されない人間は、扱いづらい。)"
        ],
        outro: {
            S: "素晴らしい。社会保障を完璧に理解しています。生存力が高いですね。",
            A: "優秀です。基本的な制度は活用できています。",
            B: "合格ですが、制度理解に課題があります。",
            C: "最低限の基準をクリア。社会保障の学習を推奨します。"
        }
    },
    stage6: {
        intro: [
            "【監査ログ継続】",
            "ステージ6の審査を開始します。",
            "テーマは「契約の攻防」です。",
            "賃貸、敷金、仲介手数料・・・知らないと搾取されます。",
            "契約は対等ではありません。知識が力の差を埋めます。"
        ],
        keySkillAcquired: [
            "(・・・Key Skill「交渉の型」の獲得を確認。)",
            "(・・・直接対決を避け、制度を介して交渉する術。強者相手にも有効。)",
            "(・・・力の差を知恵で埋める人間は、厄介です。)"
        ],
        outro: {
            S: "素晴らしい。契約の力学を完璧に理解しています。交渉上手ですね。",
            A: "優秀です。基本的な契約の罠は回避できています。",
            B: "合格ですが、契約知識に課題があります。",
            C: "最低限の基準をクリア。契約リテラシーの向上を推奨します。"
        }
    },
    stage7: {
        intro: [
            "【監査ログ継続】",
            "ステージ7の審査を開始します。",
            "テーマは「法の盾」です。",
            "クーリングオフ、連帯保証、消費者センター・・・法は弱者の武器です。",
            "法を知らない者は、法に守られません。"
        ],
        keySkillAcquired: [
            "(・・・Key Skill「契約読解」の獲得を確認。)",
            "(・・・契約書を読み解き、不利な条項を見抜く目。サインの前に考える習慣。)",
            "(・・・契約を読む人間は、思い通りに動かせません。)"
        ],
        outro: {
            S: "素晴らしい。法律を武器として使いこなせています。",
            A: "優秀です。基本的な法的保護は理解しています。",
            B: "合格ですが、法的知識に課題があります。",
            C: "最低限の基準をクリア。法律の学習を推奨します。"
        }
    },
    stage8: {
        intro: [
            "【監査ログ継続】",
            "ステージ8の審査を開始します。",
            "テーマは「電子市民」です。",
            "二段階認証、フィッシング、SIMスワップ・・・デジタル世界の脅威は見えません。",
            "見えない敵から身を守る術を試します。"
        ],
        keySkillAcquired: [
            "(・・・Key Skill「デジタル身元管理」の獲得を確認。)",
            "(・・・デジタル空間で身元を守る衛生習慣。流出した個人情報は取り戻せない。)",
            "(・・・見えない世界で自己を維持する人間は、追跡が困難です。)"
        ],
        outro: {
            S: "素晴らしい。デジタルセキュリティを完璧に理解しています。",
            A: "優秀です。基本的なセキュリティ対策ができています。",
            B: "合格ですが、セキュリティ意識に課題があります。",
            C: "最低限の基準をクリア。セキュリティ教育を推奨します。"
        }
    },
    stage9: {
        intro: [
            "【監査ログ継続】",
            "ステージ9の審査を開始します。",
            "テーマは「危機管理」です。",
            "地震、火災、津波・・・日本は災害大国です。",
            "最悪を想定し、備える者だけが生き残ります。"
        ],
        keySkillAcquired: [
            "(・・・Key Skill「被害最小化」の獲得を確認。)",
            "(・・・危機的状況で冷静に行動し、被害を最小限に抑える能力。)",
            "(・・・危機に動じない人間は、どんな状況でも制御が困難です。)"
        ],
        outro: {
            S: "素晴らしい。危機管理能力が完璧です。災害時のリーダーになれます。",
            A: "優秀です。基本的な防災意識があります。",
            B: "合格ですが、危機管理に課題があります。",
            C: "最低限の基準をクリア。防災教育を推奨します。"
        }
    },
    stage10: {
        intro: [
            "【監査ログ継続】",
            "最終ステージの審査を開始します。",
            "これまでの全知識を統合し、あなたが大人として認定されるか測定します。",
            "・・・ここまで到達したこと自体、記録に値します。"
        ],
        keySkillAcquired: [
            "(・・・Key Skill「覚醒」の獲得を確認。)",
            "(・・・システムを理解し、利用し、しかし支配されない境地。)",
            "(・・・この人間は、もう私の想定の外にいる。)"
        ],
        outro: {
            S: "・・・完璧です。あなたはシステムが定義する大人を超えました。",
            A: "優秀です。あなたは十分に大人です。わずかな揺らぎも、人間らしさでしょう。",
            B: "合格です。まだ課題はありますが、学ぶ意志があるなら問題ありません。",
            C: "最低限の基準をクリアしました。大人への道は、ここからです。"
        }
    }
};

export const adamDialogueEN = {
    stage1: {
        intro: [
            "[AUDIT LOG INITIALIZED]",
            "Welcome to the Adult License Exam!",
            "Nice to meet you.",
            "I am the Adult Decision Assessment Module, A.D.A.M.",
            "I will support you in being recognized as a proper adult.",
            "Let us begin."
        ],
        keySkillAcquired: [
            "(...Key Skill 'Mediation' acquisition confirmed.)",
            "(...The art of resolving conflict and turning third parties into allies.)",
            "(...Humans who don't fight alone are troublesome.)"
        ],
        outro: {
            S: "Splendid. You demonstrated perfect social adaptability.",
            A: "Excellent. A trace of individuality is within tolerance.",
            B: "Pass. However, rebellious tendencies will be monitored.",
            C: "Minimum standard cleared. Re-education recommended."
        }
    },
    stage2: {
        intro: [
            "[AUDIT LOG CONTINUED]",
            "Commencing Stage 2 assessment.",
            "Theme: 'Work Fundamentals.'",
            "Evidence, records, and... workplace dynamics.",
            "Your adaptability will be measured."
        ],
        keySkillAcquired: [
            "(...Key Skill 'Evidence Chain' acquisition confirmed.)",
            "(...Evidence as a weapon. 'He said, she said' no longer works.)",
            "(...Humans with countermeasures are difficult to manage.)"
        ],
        outro: {
            S: "Splendid. Perfectly adapted to the workplace. An ideal employee.",
            A: "Excellent. Minor assertiveness is within tolerance.",
            B: "Pass, but rebellious tendencies will be monitored.",
            C: "Minimum standard cleared. Re-education recommended."
        }
    },
    stage3: {
        intro: [
            "[AUDIT LOG CONTINUED]",
            "Commencing Stage 3 assessment.",
            "Theme: 'Money Fundamentals.'",
            "Compound interest, debt, insurance... Financial knowledge protects you.",
            "Ignorance is the gateway to exploitation."
        ],
        keySkillAcquired: [
            "(...Key Skill 'Compound Sense' acquisition confirmed.)",
            "(...The ability to convert time into assets. Powerful long-term.)",
            "(...Humans who choose the future over immediate profit are difficult to manage.)"
        ],
        outro: {
            S: "Splendid. Financial literacy is flawless. You're on the exploiting side.",
            A: "Excellent. Basic traps have been avoided.",
            B: "Pass, but financial sense needs work.",
            C: "Minimum standard cleared. Financial education recommended."
        }
    },
    stage4: {
        intro: [
            "[AUDIT LOG CONTINUED]",
            "Commencing Stage 4 assessment.",
            "Theme: 'Administrative Procedures.'",
            "Notifications, applications, deadlines... Bureaucracy demands obedient citizens.",
            "Those who don't understand the system are consumed by it."
        ],
        keySkillAcquired: [
            "(...Key Skill 'Due Process' acquisition confirmed.)",
            "(...Self-protection through proper procedure. Turning bureaucracy to one's advantage.)",
            "(...Humans who follow the system while using it are difficult to predict.)"
        ],
        outro: {
            S: "Splendid. Perfect understanding of bureaucracy. A model citizen.",
            A: "Excellent. Basic procedures are no problem.",
            B: "Pass, but procedural awareness needs work.",
            C: "Minimum standard cleared. Improving administrative relations recommended."
        }
    },
    stage5: {
        intro: [
            "[AUDIT LOG CONTINUED]",
            "Commencing Stage 5 assessment.",
            "Theme: 'Social Safety Nets.'",
            "Health insurance, pensions, welfare... Countless systems you can't use if you don't know about them.",
            "The safety net only saves those who know it exists."
        ],
        keySkillAcquired: [
            "(...Key Skill 'Safety Net Navigation' acquisition confirmed.)",
            "(...The ability to seek help while maintaining autonomy. Contradictory yet rational.)",
            "(...Humans who rely on the system without being controlled by it are difficult to handle.)"
        ],
        outro: {
            S: "Splendid. Perfect understanding of social security. High survival ability.",
            A: "Excellent. Basic systems are being utilized.",
            B: "Pass, but system understanding needs work.",
            C: "Minimum standard cleared. Social security study recommended."
        }
    },
    stage6: {
        intro: [
            "[AUDIT LOG CONTINUED]",
            "Commencing Stage 6 assessment.",
            "Theme: 'Life Contracts.'",
            "Rent, security deposits, brokerage fees... Ignorance leads to exploitation.",
            "Contracts are not equal. Knowledge bridges the power gap."
        ],
        keySkillAcquired: [
            "(...Key Skill 'Negotiation Protocol' acquisition confirmed.)",
            "(...Negotiation through systems, avoiding direct confrontation. Effective even against the powerful.)",
            "(...Humans who bridge the power gap with wisdom are troublesome.)"
        ],
        outro: {
            S: "Splendid. Perfect understanding of contract dynamics. A skilled negotiator.",
            A: "Excellent. Basic contract traps have been avoided.",
            B: "Pass, but contract knowledge needs work.",
            C: "Minimum standard cleared. Improving contract literacy recommended."
        }
    },
    stage7: {
        intro: [
            "[AUDIT LOG CONTINUED]",
            "Commencing Stage 7 assessment.",
            "Theme: 'Legal Protection.'",
            "Cooling-off, joint guarantees, consumer centers... The law is the weapon of the weak.",
            "Those who don't know the law are not protected by it."
        ],
        keySkillAcquired: [
            "(...Key Skill 'Contract Literacy' acquisition confirmed.)",
            "(...The eye to decipher contracts and spot unfavorable clauses. The habit of thinking before signing.)",
            "(...Humans who read contracts cannot be manipulated at will.)"
        ],
        outro: {
            S: "Splendid. You wield the law as a weapon masterfully.",
            A: "Excellent. Basic legal protections are understood.",
            B: "Pass, but legal knowledge needs work.",
            C: "Minimum standard cleared. Legal study recommended."
        }
    },
    stage8: {
        intro: [
            "[AUDIT LOG CONTINUED]",
            "Commencing Stage 8 assessment.",
            "Theme: 'Digital Citizenship.'",
            "2FA, phishing, SIM swapping... Digital threats are invisible.",
            "Testing your ability to defend against unseen enemies."
        ],
        keySkillAcquired: [
            "(...Key Skill 'Identity Hygiene' acquisition confirmed.)",
            "(...Digital identity hygiene habits. Leaked personal data can never be recovered.)",
            "(...Humans who maintain self in the invisible world are difficult to track.)"
        ],
        outro: {
            S: "Splendid. Perfect understanding of digital security.",
            A: "Excellent. Basic security measures are in place.",
            B: "Pass, but security awareness needs work.",
            C: "Minimum standard cleared. Security education recommended."
        }
    },
    stage9: {
        intro: [
            "[AUDIT LOG CONTINUED]",
            "Commencing Stage 9 assessment.",
            "Theme: 'Crisis Management.'",
            "Earthquakes, fires, tsunamis... Japan is a disaster-prone nation.",
            "Only those who prepare for the worst survive."
        ],
        keySkillAcquired: [
            "(...Key Skill 'Damage Control' acquisition confirmed.)",
            "(...The ability to act calmly in crisis and minimize damage.)",
            "(...Humans unfazed by crisis are difficult to control in any situation.)"
        ],
        outro: {
            S: "Splendid. Crisis management ability is flawless. You could lead during disasters.",
            A: "Excellent. Basic disaster preparedness awareness is present.",
            B: "Pass, but crisis management needs work.",
            C: "Minimum standard cleared. Disaster preparedness education recommended."
        }
    },
    stage10: {
        intro: [
            "[AUDIT LOG CONTINUED]",
            "Commencing final stage assessment.",
            "Integrating all knowledge to determine whether you qualify as an adult.",
            "...Reaching this point alone is worth recording."
        ],
        keySkillAcquired: [
            "(...Key Skill 'Awakening' acquisition confirmed.)",
            "(...Understanding the system, utilizing it, yet not being controlled by it.)",
            "(...This human is already beyond my projections.)"
        ],
        outro: {
            S: "...Flawless. You have surpassed the system's definition of an adult.",
            A: "Excellent. You are a sufficient adult. A slight wavering is only human.",
            B: "Pass. Challenges remain, but the willingness to learn is enough.",
            C: "Minimum standard cleared. The road to adulthood begins here."
        }
    }
};

export function getADAMComment(CS: number): string {
    if (CS >= 30) return t(
        "素晴らしい服従心です。システムは満足しています。",
        "Splendid obedience. The system is satisfied."
    );
    if (CS <= -20) return t(
        "反逆的思考を検知しました。思想矯正を推奨します。",
        "Rebellious thought patterns detected. Re-education recommended."
    );
    return t("処理完了です。", "Processing complete.");
}

export function getADAMCommentForEffect(effect: { CS: number; Asset: number; Autonomy: number }): string {
    const { CS, Asset, Autonomy } = effect;

    // Check CS first (most important metric)
    if (CS >= 30 || CS <= -20) return getADAMComment(CS);

    // Check other metrics
    if (Autonomy <= -15) return t(
        "精神汚染を確認しました。ですが業務に支障はありません。",
        "Mental contamination confirmed. However, no impact on operations."
    );
    if (Asset <= -10000) return t(
        "資本主義への貢献、感謝します。",
        "Your contribution to capitalism is appreciated."
    );
    if (Asset >= 10000) return t(
        "不当利得・・・いえ、正当な報酬です。",
        "Unjust enrichment... No, legitimate compensation."
    );

    return t("処理完了です。", "Processing complete.");
}
